Welcome to the CodeVisionAVR C Compiler V3 and the CodeWizardAVR Automatic Program Generator

The compiler is designed to be used along with the AVR Studio V4.19 and
Atmel Studio 6.2 or 7.0 debuggers, which can be downloaded from the ATMEL web site:
www.atmel.com

For JTAGICE 3 programming support to be available Atmel Studio 6.2 or later must be installed.

Details about using CodeVisionAVR with these debuggers are available in the Help topics:
- Using the CodeVisionAVR Extension for Atmel Studio
- CodeVisionAVR C Compiler Reference|Using the AVR Studio 4.19 Debugger
and in the chapters: 1, 4.21 of the CodeVisionAVR User Manual.

The CodeVisionAVR Evaluation version has the following limitations, not present in the
commercial version:
- the compiled code size is restricted to 1kbyte (512words) for chips with
  less then 2kwords of FLASH and 4kbytes (2kword) of FLASH for the rest of chips
- interrupt driven serial communication code generation by the CodeWizardAVR is disabled
- EBI support for the ATxmega chips is disabled in the compiler
- TWI, EBI, RTC, RTC32 and Battery Backup System code generation is disabled in
  the CodeWizardAVR for the ATxmega devices
- no code is generated by the CodeWizardAVR for reading the ATxmega ADC calibration
  data from the signature row
- saving the generated C source code is disabled in the LCD Vision font and image
  editor/converter (an Advanced CodeVisionAVR license must be purchased to enable this function).


1. Installing CodeVisionAVR V3
1.1 Installing CodeVisionAVR V3 as an Atmel Studio extension

This installation scenario requires Atmel Studio 6.2 or 7.0 to be
installed before CodeVisionAVR V3, the user being logged-in as Administrator.

If the older Atmel Studio 6.0/6.1 are installed, they must be 
first fully uninstalled before installing Atmel Studio 6.2 or 7.0.

After uninstalling the old Atmel Studio, the remaining "C:\Program Files (x86)\Atmel\Atmel Studio 6.x"  
directory and its contents must be deleted.

When installing Atmel Studio, the user will be prompted by Windows 
if Atmel Studio is allowed to make changes to the computer. 
The answer must be affirmative.
Under Windows XP the checkbox "Protect my computer and data from 
unauthorized program activity" must be unchecked.

After Atmel Studio was successfully installed, the CodeVisionAVR 
installer "CodeVisionAVR.msi" can be launched to finish the installation procedure.
The above step must be also performed being logged-in as Administrator.

For installing under Windows Vista, the following steps should be performed, 
being logged-in as Administrator.

- The Windows Vista User Account Control must be disabled using the steps below:

    - press the Windows button and click on the Control Panel link
    - in the Control Panel window, under the User Accounts and Family Safety, 
      click on the Add or remove user accounts link
    - a new window will open, click on the Go to the main User Accounts page 
      link located at the bottom of the window
    - a new window will open, click on the Turn User Account Control on or off 
      link located at the bottom of the window
    - in the new window that will open, uncheck the Use User Account Control (UAC)
      to help protect your computer check box and press the OK button to confirm
    - the computer will have to be restarted for this setting to become effective

- run the "CodeVisionAVR.msi" installer
- after the installation is complete, right click on the CodeVisionAVR icon on 
  the desktop
- select Properties in the popup menu that will open
- a new window called CodeVisionAVR Properties will open
- select the Compatibility tab
- check the Privilege Level|Run this program as an administrator check box and 
  press the OK button to confirm.

Notes: 
- CodeVisionAVR usage always requires the user to be logged-in as Administrator.
- When installing CodeVisionAVR under Windows 8 and 8.1, please right click on 
  the CodeVisionAVR icon on the desktop, select Properties|Advanced and 
  enable the Run as Administrator option.
- The Naggy extension for Atmel Studio is not compatible with CodeVisionAVR.
  Naggy must be disabled from Atmel Studio menu: Tools|Disable Naggy.
- Altough CodeVisionAVR V3 was installed as an Atmel Studio extension, it can 
  also be used from it's own IDE without Atmel Studio.

1.2 Installing CodeVisionAVR V3 without Atmel Studio

Log-in as Administrator and launch the CodeVisionAVR installer "CodeVisionAVR.msi" to 
perform the installation procedure.
Please ignore the error message, displayed during setup, that no Atmel Studio 
installation was found.
For installing under Windows Vista please follow the steps mentioned at 1.1.
After CodeVisionAVR was successfully installed, the AVR Studio 4.19 debugger 
may be also installed in order to allow source level debugging.

Note: CodeVisionAVR usage always requires the user to be logged-in as Administrator.

2. New features/bug fixes in CodeVisionAVR V3.28
2.1 Compiler:
- Added support for the ATmega324PB chip
- Improved the common sub-expression optimizer when accessing structures located
  in FLASH for the medium and large memory models
- Added #pragmas to individually enable/disable different types of warnings from
  within the source code
- Improved error and warnings checking
- Improved the generated code when initializing local pointer variables during
  declaration
- Added assembly definitions for the SPDR and SPSR registers of the
  ATmega 16M1/32M1/64M1/32C1/64C1 chips
- Fixed: Executing a 'return' statement that calls a function which returns
  a structure/union, left the interrupts globally disabled
- Fixed: In enhanced function parameter passing modes 1 and 2 only, when calling
  functions by an auto pointer, and the last function argument was a pointer
  to a local scalar variable, the called function address was not set correctly
- Fixed: incorrect temperature measurements in the BMP085 and BMP180 libraries
  when the ambient temperature exceeded 60C.

2.2 CodeWizardAVR
- Added support for the ATmega324PB chip
- Fixed in the CodeWizard for Xmega devices: the Output Compare pin remapping
  was reset, when switching from one timer to another in the Settings panel. 

2.3 IDE Editor
- Added: Clicking on a C identifier in the editor highlights all its occurrences
  in the file
- Added support for the Artistic Style automatic source code formatter from
  http://astyle.sourceforge.net/

  
3. Example programs

The Compiler is supplied with many example programs located in the CodeVisionAVR installation folder:
- ATtiny and ATmega chips in \Examples\AVR
- ATxmega chips in \Examples\XMEGA
- Graphic Displays in \Examples\Graphic Displays.

 
After starting CodeVisionAVR, execute the File|Open menu command and load the 
Project (*.prj) file for the example you like.
Then execute the Project|Build All menu command to compile and link the project.

Take some time and carefully read the Help.
